<script type="text/markdown" data-help-name="jack-event">
Forwards MQTT messages enriched with CCU-Jack data.

### Setup

: Jack Config (select) : Jack-Config to use.
: topic (string) : `msg.topic` of outgoing messages. Can be configured with wildcards. `*` reuses the original `topic`.
: domain (select) : the domain (under root of the CCU-Jack) which the desired devices are listed. `*` allows events of all domains.
: interfaceType (string|regexp) : type of interfaces via which the desired devices are connected. `*` allows events from all interface types.
: room (string|regexp) : room filter, e.g. `1234` for `Corridor`.
: function (string|regexp) : function filter, e.g. `1212` for `Light`.
: device (string|regexp) : serial number of the device, e.g. `0009156999C7DB`.
: deviceType (string|regexp) : type of the device, e.g. `HmIP-SMI`.
: channel (string|regexp) : channel address consisting of serial and channel number, e.g. <code>0009156999C7DB&#58;0</code>.
: channelType (string|regexp) : type of the channel, e.g. `MAINTENANCE`.
: channelIndex (string|regexp) : index of the channel, e.g. `0`.
: datapoint (string|regexp) : datapoint of the channel, e.g. `RSSI_PEER`.
: Emit only changed values (checkbox) : an event will only be emitted if and only if the value has changed.
: Emit cached value on start (checkbox) : on (re-)start of Node-RED, the last value (if known) is emitted.


### Ausgangsdaten

: topic (string) : 
: payload (string|number|boolean) : 
: domain (string) :
: interfaceType (string) :
: device (string) :
: deviceName (string) :
: deviceType (string) :
: channel (string) :
: channelName (string) :
: channelType (string) :
: channelIndex (number) :
: datapoint (string) :
: datapointName (string) :
: datapointType (string) :
: datapointEnum (array?) :
: datapointMin (string?|number?|boolean?) :
: datapointMax (string?|number?|boolean?) :
: datapointDefault (string|number|boolean) :
: datapointControl (string) :
: datapoints (object) :
: rooms (object) :
: functions (object) :
: mqtt (object) : MQTT topics from CCU-Jack. Possible values are `"get"`, `"set"`, `"status"`
: value (string|number|boolean) : same as `payload`
: qos (number) : `0` fire and forget <br> `1` at least once <br> `2` once and once only.
: retain (boolean) : `true` indicates the message was retained and may be old.
: ts (number) : timestamp
: s (number) : `0` - `99` GOOD <br> `100` - `199` UNCERTAIN <br> `200` - `299` BAD
: change (boolean) :
: cache (boolean) :

### Beispiel

```
{
    "topic":"device/status/0009156999C7DB/0/RSSI_PEER",
    "payload":-49,
    "domain":"device",
    "device":"0009156999C7DB",
    "deviceName":"HmIP-SMI Flur Unten",
    "deviceType":"HmIP-SMI",
    "channel":"0009156999C7DB:0",
    "channelName":"HmIP-SMI Flur Unten:0",
    "channelType":"MAINTENANCE",
    "channelIndex":0,
    "datapoint":"RSSI_PEER",
    "datapointName":"HmIP-SMI Flur Unten:0 - RSSI_PEER",
    "datapointType":"INTEGER",
    "datapointMin":-128,
    "datapointMax":127,
    "datapointDefault":0,
    "datapointControl":"",
    "datapoints":{
        "OPERATING_VOLTAGE_STATUS":{
            "ts":1673987147676,
            "v":0,
            "s":0,
            "cache":true,
            "change":false
        },
        "OPERATING_VOLTAGE":{
            "ts":1673987147676,
            "v":2.6,
            "s":0,
            "cache":true,
            "change":false
        },
        "ERROR_CODE":{
            "ts":1673987147679,
            "v":0,
            "s":0,
            "cache":true,
            "change":false
        },
        "UNREACH":{
            "ts":1673987147676,
            "v":false,
            "s":0,
            "cache":true,
            "change":false
        },
        "DUTY_CYCLE":{
            "ts":1673987147676,
            "v":false,
            "s":0,
            "cache":true,
            "change":false
        },
        "LOW_BAT":{
            "ts":1673987147676,
            "v":false,
            "s":0,
            "cache":true,
            "change":false
        }
    },
    "rooms":{
        1234: "Flur"
    },
    "functions":{
        1212: "Licht"
    },
    "mqtt":{
        "status":"device/status/0009156999C7DB/0/RSSI_PEER"
    },
    "value":-49,
    "qos":1,
    "retain":true,
    "ts":1666459841828,
    "s":0,
    "change":false,
    "cache":true
}
```

### Verweise

- [CCU datapointTypes](https://github.com/mdzio/ccu-jack/wiki/CCU-Datentypen)
- [VEAP datapoints](https://github.com/mdzio/veap/blob/master/README_de.md#datenpunkt-lesen)

</script>