<script type="text/markdown" data-help-name="jack-bridge">
Integration eines `MQTT In` Nodes mit den `Jack` Nodes.

![Setup](https://github.com/ptweety/node-red-contrib-ccu-jack/raw/main/docs/bridge-flow.png)

### Setup

: Jack Config (select) : Die zu verwendende Jack-Konfiguration.

### Eingangsdaten

Verschiedene Nachrichtentypen können verarbeitet werden:

#### Konfiguration

: action (string) : Der Name der Aktion, welche ausgeführt werden soll. Verfügbare Aktionen sind `"connect"`, `"disconnect"` und `"getSubscriptions"`.

#### MQTT Nachrichten

: topic (string) : MQTT-Topic mit / (Schrägstrich) als Hierarchie-Trennzeichen.
: payload (string|json) : Zeichenfolge oder JSON Objekt.
: qos (number) : `0` Einmal gesendet ohne Empfangsgarantie (fire und forget) <br> `1` Garantiert mindestens einmal empfangen (at least once) <br> `2` Garantiert exakt einmal empfangen (once and once only).
: retain (boolean) : Bei `true` kann es eine aufbewahrte, ältere Nachricht sein.

#### Status

: payload (boolean|string) : Gibt den aktuellen Status der Bridge zurück. <br> **Noch nicht implementiert!**

Entweder bei `"getValues"`, `"getValuesFlat"` oder `"getValuesDeep"` wird der aktuelle Wert aller bisherigen MQTT Nachrichten gesendet.

### Ausgangsdaten

1. Bridge Information
: status (object) : **Noch nicht implementiert!**

2. MQTT Connection
: action (string) : Der Name der Aktion, welche vom `MQTT IN` Node ausgeführt werden soll.
: topic (string|object|array) : Benötigt für `"connect"`, `"disconnect"`, `"getSubscriptions"`, `"subscribe"` und `"unsubscribe"` Aktionen

Letzters leitet die Konfigurations-Nachrichten an einen `MQTT In` Node weiter.

### Details

Der verbundene `MQTT In` Node ist wie folgt zu konfigurieren:
- **Action**: *Dynamic subscription* 
- **Ausgang**: *Auto-Erkennung (parsed JSON-Objekt, ...)*
</script>